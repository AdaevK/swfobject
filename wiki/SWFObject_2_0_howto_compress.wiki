#summary How to compress the swfobject.js source file using YUI Compressor
#labels Phase-Deploy

== How to compress the swfobject.js source file using YUI Compressor? ==

  # Download the latest version of the YUI Compressor from [ http://www.julienlecomte.net/yuicompressor/ ]
  # Unzip the yuicompressor-x.x.x.zip file
  # Open the uncompressed swfobject.js file in a text or code editor and remove the following conditional compiling directives and JavaScript code (line 83-90):
{{{  
   /*@cc_on
     ie = true;
     @if (@_win32)
       win = true;
     @elif (@_mac)
       mac = true;
     @end
   @*/
}}}  
  # Save your adjusted uncompressed swfobject.js file
  # Compress this file, e.g.:
{{{
   java -jar /yuicompressorpath/yuicompressor-2.3.5/build/yuicompressor-2.3.5.jar -o /swfobjectpath/swfobject.js /swfobjectpath/src/swfobject.js
  
   For more info, please read the YUI Compressor documentation: [ http://developer.yahoo.com/yui/compressor/ ]
}}}  
  # Open the compressed swfobject.js file
  # You have to re-add the Internet Explorer conditional compiling directives and the JavaScript code it embodies (this is a proprietary feature test to check e.g. whether a browser is Internet Explorer):
{{{  
   Paste the following code block:

   /*@cc_on f=true;@if(@_win32)i=true;@elif(@_mac)l=true;@end@*/
   
   In between:
   
   l=h?/mac/.test(h):/mac/.test(s);
   
   And:  
   
   return{w3cdom:k,playerVersion:r,webkit:o,webkitVersion:g,ie:f,win:i,mac:l}}(); ...
 }}}   
  # Save your adjusted compressed swfobject.js file

== How to compress the swfobject.js source file using Dojo ShrinkSafe? [DEPRECATED as of SWFObject 2.0 rc3] ==

  # Open a web browser and browse to: [ http://shrinksafe.dojotoolkit.org/ ]
  # Select the swfobject.js source file from your file system
  # Check "strip newline chars?"
  # Press "shrink em!"
  # Open the resulting swfobject.compressed.js file in a code editor
  # Because ShrinkSafe removes all comments, you have to re-add the copyright header. Create a new line and copy-paste the following comments: 
{{{
/*	SWFObject v2.0 <http://code.google.com/p/swfobject/>
	Copyright (c) 2007 Geoff Stearns, Michael Williams, and Bobby van der Sluis
	This software is released under the MIT License <http://www.opensource.org/licenses/mit-license.php>
*/
}}}
  # Adjust the version number in the copyright header to the current version
  # Because ShrinkSafe removes all comments, you have to re-add the Internet Explorer conditional compiling directives and the JavaScript code it embodies (this is a proprietary feature test to check e.g. whether a browser is Internet Explorer): 
{{{
Paste the following code block:

/*@cc_on ie=true;@if(@_win32)win=true;@elif(@_mac)mac=true;@end@*/

In between:

... var mac=p?/mac/.test(p):/mac/.test(u);

And:

return {w3cdom:_8,playerVersion:_9,webkit:_f,webkitVersion:_10,ie:ie,win:win,mac:mac};}(); ...
}}}
  # Save the file as swfobject.js